erDiagram
    USER {
        int user_id PK
        varchar name
        varchar email
        varchar password_hash
        datetime created_at
        datetime updated_at
    }

    ACTIVITY {
        int activity_id PK
        int user_id FK
        varchar title
        varchar description
        datetime created_at
        datetime updated_at
    }

    POMODORO_SESSION {
        int session_id PK
        int user_id FK
        int activity_id FK
        int team_id FK
        varchar type
        datetime start_time
        datetime end_time
        int duration
        varchar status
    }

    NOTE {
        int note_id PK
        int session_id FK
        varchar content
        datetime created_at
        datetime updated_at
    }

    TEAM {
        int team_id PK
        varchar team_name
        int owner_id FK
        datetime created_at
        datetime updated_at
    }

    TEAM_MEMBER {
        int team_member_id PK
        int team_id FK
        int user_id FK
    }

    USER_SESSION {
        varchar session_id PK
        timestamp created_at
        varchar device_info
        timestamp expires_at
        varchar ip_hash
        timestamp last_used_at
        varchar refresh_token
        boolean revoked
        bigint user_id FK
    }

    USER ||--o{ ACTIVITY : "owns"
    USER ||--o{ POMODORO_SESSION : "creates"
    ACTIVITY ||--o{ POMODORO_SESSION : "categorizes"
    POMODORO_SESSION ||--o{ NOTE : "has"
    TEAM ||--o{ POMODORO_SESSION : "used in"
    TEAM ||--o{ TEAM_MEMBER : "has members"
    USER ||--o{ TEAM_MEMBER : "member of"
    TEAM_MEMBER }o--|| USER : "is"
    USER ||--o{ USER_SESSION : "has"
