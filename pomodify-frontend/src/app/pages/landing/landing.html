<app-header></app-header>

<main class="landing">
    <section class="hero">
        <div class="hero-left">
            <h1 class="site-brand">POMODIFY</h1>
            <h2 class="headline">Master Your Time<br>Amplify Your Focus.</h2>
            <p class="subtext">
                Pomodify helps you optimize your work-rest cycles with customizable Pomodoro timers, intuitive activity tracking, and insightful progress reports. Achieve deep focus, boost productivity, and conquer your daily tasks with ease.
            </p>
            <div class="cta">
                <a class="btn btn-outline" routerLink="/login">Log In</a>
                <a class="btn btn-primary" routerLink="/signup">Get Started</a>
            </div>
        </div>
        
        <div class="hero-right">
            <!-- Desktop layout image -->
            <img class="hero-image desktop-layout" 
                 src="assets/images/Desktop-layout.png" 
                 alt="Pomodify Features - Custom Timers, Activities, Session Notes, and Progress Reports" 
                 loading="eager" 
                 decoding="async" />
            
            <!-- Mobile layout image -->
            <img class="hero-image mobile-layout" 
                 src="assets/images/mobile-layout.png" 
                 alt="Pomodify Features" 
                 loading="eager" 
                 decoding="async" />
        </div>
    </section>

    <section class="feature-grid">
    <h3 class="feature-eyebrow">Your Time. Your Flow</h3>
    <h2 class="feature-title">Features</h2>

    <div class="feature-slider-container">
        <div class="feature-slider-track" [style.transform]="'translateX(' + getSlideOffset() + ')'">
            <article class="feature-box" id="activities">
            <h4>Create and manage activities</h4>
            <p>Users can add, edit, rename, or delete activities such as "Learn Angular" or "Study Math."</p>
            <img src="assets/images/create_manage.png" alt="Create and manage activities" loading="lazy" decoding="async" />
            </article>

            <article class="feature-box" id="timers">
            <h4>Start and track Pomodoro sessions</h4>
            <p>Set custom work and break durations, run consecutive cycles, and associate each session with an activity.</p>
            <img src="assets/images/start_track.png" alt="Start and track sessions" loading="lazy" decoding="async" />
            </article>

            <article class="feature-box" id="notes">
            <h4>Add session notes</h4>
            <p>After each session, jot down what you accomplished. Notes can be viewed, edited, or deleted later.</p>
            <img src="assets/images/add_session.png" alt="Add session notes" loading="lazy" decoding="async" />
            </article>

            <article class="feature-box" id="reports">
            <h4>View reports and progress</h4>
            <p>See summaries of sessions, hours per activity, and progress over time.</p>
            <img src="assets/images/view_reports.png" alt="View reports and progress" loading="lazy" decoding="async" />
            </article>

            <article class="feature-box" id="accounts">
            <h4>Manage user accounts securely</h4>
            <p>Register, log in, update your profile, and manage your account securely.</p>
            <img src="assets/images/manage_user.png" alt="Manage user accounts" loading="lazy" decoding="async" />
            </article>
        </div>
    </div>

    <div class="slider-pagination">
        <button 
            *ngFor="let slide of slides; let i = index" 
            class="pagination-dot" 
            [class.active]="currentSlide === i"
            (click)="goToSlide(i)"
            [attr.aria-label]="'Go to slide ' + (i + 1)">
        </button>
    </div>
    </section>

        <section class="faq-section">
            <div class="faq-inner">
                <h3 class="faq-eyebrow">Got questions?</h3>
                <h2 class="faq-title">Frequently Asked Questions</h2>

                        <div class="faq-grid">
                            <div class="faq-visual">
                                <div class="vector-card" [style.height.px]="faqVectorHeight || null">
                                    <img src="assets/images/faqs-vector-2.png" alt="FAQ illustration" class="faq-vector" loading="lazy" decoding="async" />
                                </div>
                            </div>

                            <div class="faq-content">
                                <div class="faq-list" #faqList [class.animating]="animateFaq">
                                    <div *ngFor="let f of pagedFaqs" class="faq-item">
                                        <button class="faq-question" (click)="toggleFaq(f.index)" [attr.aria-expanded]="isOpen(f.index)">
                                            <span class="q-text">{{ f.item.q }}</span>
                                            <span class="q-icon" aria-hidden="true">{{ isOpen(f.index) ? '−' : '+' }}</span>
                                        </button>
                                        <div class="faq-answer" [class.open]="isOpen(f.index)" [attr.aria-hidden]="!isOpen(f.index)">
                                            <p>{{ f.item.a }}</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="faq-pagination" role="navigation" aria-label="FAQ pages">
                                    <button class="faq-pager arrow" (click)="prevFaqPage()" aria-label="Previous page">‹</button>
                                    <div class="faq-dots">
                                        <button *ngFor="let p of faqPages" 
                                                class="faq-dot" 
                                                [class.active]="currentFaqPage === p"
                                                (click)="goToFaqPage(p)"
                                                [attr.aria-label]="'Go to FAQ page ' + (p + 1)">
                                        </button>
                                    </div>
                                    <button class="faq-pager arrow" (click)="nextFaqPage()" aria-label="Next page">›</button>
                                </div>
                            </div>
                        </div>
            </div>
        </section>

        <!-- Contact trigger + panel -->
        <button class="contact-trigger" aria-label="Contact us" (click)="toggleContact()">
            <i class="fa fa-headphones" aria-hidden="true"></i>
        </button>

        <div class="contact-panel" *ngIf="contactOpen" role="dialog" aria-modal="true" aria-label="Contact us form">
            <header>
                <strong>Contact Us</strong>
                <button class="close-btn" aria-label="Close contact form" (click)="closeContact()"><i class="fa fa-times" aria-hidden="true"></i></button>
            </header>

            <form (ngSubmit)="submitContact()" #contactForm="ngForm" novalidate>
                <label for="c-name">Name</label>
                <input id="c-name" name="name" [(ngModel)]="contactData.name" required />

                <label for="c-email">Email</label>
                <input id="c-email" name="email" type="email" [(ngModel)]="contactData.email" required />

                <label for="c-reason">Reason for Contact</label>
                <select id="c-reason" name="reason" [(ngModel)]="contactData.reason" required>
                  <option value="">Select a reason</option>
                  <option value="support">Support</option>
                  <option value="bug">Report a bug</option>
                  <option value="feedback">Feedback</option>
                  <option value="other">Other</option>
                </select>

                <label for="c-message">Message</label>
                <textarea id="c-message" name="message" rows="4" [(ngModel)]="contactData.message" required></textarea>

                <div class="form-error" *ngIf="contactFormError">{{ contactFormError }}</div>

                <button type="submit" class="submit">Send</button>
            </form>
        </div>

        <app-footer></app-footer>

</main>
