@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap');

/* Add Montserrat font to the entire app */
body {
  font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: #1a1a1a;
  line-height: 1.5;
  margin: 0;
  padding: 0;
}

/* Verify Email Dialog Styles */
.verify-email-dialog {
  .mat-mdc-dialog-surface {
    border-radius: 16px !important;
    padding: 0;
    overflow: hidden;
  }
}

/* Material overrides */
.mat-mdc-dialog-surface {
  border-radius: 16px !important;
}

/* Add any other global styles below */

/* Global light/dark CSS variables */
:root {
  --bg: #F8F9FA;
  --card: #FFFFFF;
  --text: #2C3E50;
  --muted: #6C757D;
  --border: #DEE2E6;
}

:root.theme-dark {
  --bg: #0F172A;
  --card: #111827;
  --text: #E5E7EB;
  --muted: #9CA3AF;
  --border: #1F2937;
}

/* Base surfaces adopt variables so pages respond to theme */
body { 
  background: var(--bg) !important; 
  color: var(--text) !important; 
}

/* Optional helpers for inputs/cards/dividers used across pages */
.app-card { background: var(--card); border: 1px solid var(--border); }
.input-surface { background: var(--card); border: 1px solid var(--border); color: var(--text); }
.divider-surface { background: var(--border); }

/* Force light theme as default for AUTHENTICATED pages only */
.activities-page,
.dashboard,
.settings-page,
.sessions-page,
.profile-page,
.report-page {
  background: var(--bg) !important;
  color: var(--text) !important;
}

/* Public pages keep their original styling (no theme system) */
.landing-page,
.login-page,
.signup-page {
  background: initial !important;
  color: initial !important;
}

/* COMPREHENSIVE LIGHT THEME OVERRIDES - AUTHENTICATED PAGES ONLY */
:root:not(.theme-dark) {
  /* Authenticated page backgrounds only */
  .activities-page,
  .dashboard,
  .settings-page,
  .sessions-page,
  .profile-page,
  .report-page {
    background: var(--bg) !important;
    color: var(--text) !important;
  }
  
  /* Public pages exclusion - no theme system */
  .landing-page,
  .login-page,
  .signup-page {
    background: initial !important;
    color: initial !important;
  }

  /* Force light mode for modals */
  .modal-content {
    background: #FFFFFF !important;
    border: 1px solid #DEE2E6 !important;
    color: #2C3E50 !important;
  }
  
  .modal-header {
    border-bottom-color: #DEE2E6 !important;
    
    .modal-title {
      color: #2C3E50 !important;
    }
    
    .modal-subtitle {
      color: #6C757D !important;
    }
    
    .modal-close {
      color: #6C757D !important;
      
      &:hover {
        background: rgba(0, 0, 0, 0.05) !important;
        color: #2C3E50 !important;
      }
    }
  }
  
  .modal-body {
    color: #2C3E50 !important;
  }
  
  .setting-item {
    border-bottom-color: #DEE2E6 !important;
    
    .setting-label {
      color: #2C3E50 !important;
    }
    
    .setting-description {
      color: #6C757D !important;
    }
  }
  
  .group-title {
    color: #2C3E50 !important;
    border-bottom-color: #DEE2E6 !important;
  }

  /* Sidebar styling */
  .sidebar {
    background-color: var(--card) !important;
    border-right-color: var(--border) !important;
  }

  /* Header styling */
  .header {
    background-color: var(--card) !important;
    border-bottom-color: var(--border) !important;
  }

  /* All card components (excluding landing page) */
  .settings-section,
  .activity-card,
  .focus-card,
  .status-card,
  .metric-card,
  .session-card,
  .content-section,
  .stat-card {
    background: var(--card) !important;
    border-color: var(--border) !important;
    color: var(--text) !important;
  }
  
  /* Exclude landing page components */
  .landing-page .feature-box,
  .landing-page .hero-section,
  .landing-page .feature-grid {
    background: initial !important;
    color: initial !important;
    border-color: initial !important;
  }

  /* Navigation elements */
  .nav-icon {
    color: var(--muted) !important;
  }

  /* Text elements */
  .section-title,
  .page-title,
  .activity-name,
  .session-title,
  .stat-label {
    color: var(--text) !important;
  }

  /* Buttons */
  .hamburger-btn,
  .theme-btn,
  .profile-btn,
  .data-btn,
  .data-action-btn,
  .account-action-btn {
    background: var(--card) !important;
    color: var(--text) !important;
    border-color: var(--border) !important;
  }

  /* Form elements */
  input,
  textarea,
  select,
  .sound-select {
    background: var(--card) !important;
    color: var(--text) !important;
    border-color: var(--border) !important;
  }

  /* Override any hardcoded light backgrounds */
  .activities-list,
  .recent-sessions-list,
  .settings-grid {
    background: transparent !important;
  }
}

/* COMPREHENSIVE DARK THEME OVERRIDES - AUTHENTICATED PAGES ONLY */
:root.theme-dark {
  /* Authenticated page backgrounds only */
  .activities-page,
  .dashboard,
  .settings-page,
  .sessions-page,
  .profile-page,
  .report-page {
    background: var(--bg) !important;
    color: var(--text) !important;
  }
  
  /* Public pages never get dark theme */
  .landing-page,
  .login-page,
  .signup-page {
    background: initial !important;
    color: initial !important;
  }

  /* Sidebar styling */
  .sidebar {
    background-color: var(--card) !important;
    border-right-color: var(--border) !important;
  }

  /* Header styling */
  .header {
    background-color: var(--card) !important;
    border-bottom-color: var(--border) !important;
  }

  /* All card components */
  .settings-section,
  .activity-card,
  .focus-card,
  .status-card,
  .metric-card,
  .session-card,
  .content-section,
  .stat-card,
  .recent-sessions-section,
  .activities-section {
    background: var(--card) !important;
    border-color: var(--border) !important;
    color: var(--text) !important;
  }

  /* Navigation elements */
  .nav-icon {
    color: var(--muted) !important;
  }

  .nav-icon:hover {
    background-color: rgba(95,169,164,0.15) !important;
    color: #7BC4BF !important;
  }

  .nav-icon.active {
    background-color: #4D8B87 !important;
    color: #FFFFFF !important;
  }

  /* Text elements */
  .section-title,
  .page-title,
  .activity-name,
  .session-title,
  .stat-label,
  .nav-text,
  .app-name {
    color: var(--text) !important;
  }

  /* Buttons */
  .hamburger-btn,
  .theme-btn,
  .profile-btn,
  .data-btn,
  .data-action-btn,
  .account-action-btn {
    background: var(--card) !important;
    color: var(--text) !important;
    border-color: var(--border) !important;
  }

  /* Form elements */
  input,
  textarea,
  select,
  .sound-select {
    background: var(--card) !important;
    color: var(--text) !important;
    border-color: var(--border) !important;
  }

  /* Containers */
  .settings-container,
  .content-grid,
  .help-container {
    background: transparent !important;
  }

  /* Dividers */
  .divider,
  .divider-surface {
    background: var(--border) !important;
  }
}

/* ADDITIONAL LIGHT THEME FIXES FOR SPECIFIC COMPONENTS */
:root:not(.theme-dark) {
  /* FORCE LIGHT SIDEBAR - Override all dark styles */
  .sidebar {
    background-color: var(--card) !important;
    background: var(--card) !important;
    border-right: 1px solid var(--border) !important;
    border-right-color: var(--border) !important;
  }

  /* FORCE LIGHT NAVIGATION */
  .nav-icon {
    color: var(--muted) !important;
  }

  .nav-icon:hover {
    color: #5FA9A4 !important;
    background-color: rgba(95, 169, 164, 0.1) !important;
  }

  .nav-icon.active {
    background-color: #5FA9A4 !important;
    color: white !important;
  }

  /* FORCE LIGHT SECTIONS */
  .recent-sessions-section,
  .activities-section,
  .focus-section,
  .status-section,
  .content-section {
    background: var(--card) !important;
    border: 1px solid var(--border) !important;
    color: var(--text) !important;
  }

  /* Fix hardcoded button colors */
  .btn-create-activity,
  .btn-edit-activity,
  .btn-delete-activity {
    background-color: var(--card) !important;
    color: var(--text) !important;
    border: 1px solid var(--border) !important;
  }

  /* Fix toggle switches */
  .toggle-label {
    background-color: var(--border) !important;
  }

  .toggle-input:checked + .toggle-label {
    background-color: #5FA9A4 !important;
  }

  /* Fix data buttons */
  .data-btn {
    background-color: var(--card) !important;
    color: var(--text) !important;
    border: 1px solid var(--border) !important;
  }

  /* Fix modal buttons */
  .modal-btn.btn-ok {
    background-color: #5FA9A4 !important;
    color: white !important;
  }

  .modal-btn.btn-cancel {
    background-color: var(--card) !important;
    color: var(--text) !important;
    border: 1px solid var(--border) !important;
  }

  /* Fix theme toggle */
  .theme-toggle-track {
    background: linear-gradient(135deg, #FFD700, #FFA500) !important;
  }

  /* Override any remaining hardcoded backgrounds */
  .activities-list .activity-card,
  .recent-sessions-list .session-card,
  .settings-grid .settings-section {
    background: var(--card) !important;
    border: 1px solid var(--border) !important;
  }

  /* Fix any gradient backgrounds in light mode */
  .activities-page,
  .dashboard {
    background: var(--bg) !important;
  }

  /* FORCE ALL TEXT TO BE DARK IN LIGHT MODE */
  .section-title,
  .page-title,
  .activity-name,
  .session-title,
  .nav-text,
  .app-name {
    color: var(--text) !important;
  }

  /* OVERRIDE ANY FACEBOOK-STYLE DARK GRADIENTS */
  .sidebar,
  .header,
  .settings-section,
  .metric-card,
  .quick-start-card {
    background: var(--card) !important;
    border: 1px solid var(--border) !important;
  }
}

/* ULTIMATE LIGHT THEME ENFORCEMENT - HIGHEST SPECIFICITY */
html:not(.theme-dark) body,
html:not(.theme-dark) body * {
  /* Force light theme on everything unless specifically dark themed */
}

html:not(.theme-dark) .sidebar {
  background: #FFFFFF !important;
  background-color: #FFFFFF !important;
  border-right: 1px solid #DEE2E6 !important;
}

html:not(.theme-dark) .nav-icon {
  color: #6C757D !important;
}

html:not(.theme-dark) .nav-icon:hover {
  background-color: rgba(95, 169, 164, 0.1) !important;
  color: #5FA9A4 !important;
}

html:not(.theme-dark) .nav-icon.active {
  background-color: #5FA9A4 !important;
  color: #FFFFFF !important;
}

html:not(.theme-dark) .recent-sessions-section,
html:not(.theme-dark) .activities-section,
html:not(.theme-dark) .focus-section,
html:not(.theme-dark) .content-section {
  background: #FFFFFF !important;
  border: 1px solid #DEE2E6 !important;
}

html:not(.theme-dark) .section-title,
html:not(.theme-dark) .page-title,
html:not(.theme-dark) .nav-text,
html:not(.theme-dark) .app-name,
html:not(.theme-dark) .activity-name,
html:not(.theme-dark) .activity-time,
html:not(.theme-dark) .session-title,
html:not(.theme-dark) .session-time,
html:not(.theme-dark) .session-activity,
html:not(.theme-dark) .metric-header h3,
html:not(.theme-dark) .metric-value,
html:not(.theme-dark) .metric-subtitle,
html:not(.theme-dark) .status-label,
html:not(.theme-dark) .status-number,
html:not(.theme-dark) .empty-recent p,
html:not(.theme-dark) .setting-label,
html:not(.theme-dark) .data-action-label,
html:not(.theme-dark) .account-action-label {
  color: #2C3E50 !important;
}

/* Disable any dark mode styles when not in dark theme */
html:not(.theme-dark) *[class*="dark"],
html:not(.theme-dark) *[style*="background: linear-gradient"][style*="#"] {
  background: var(--card) !important;
}
/* COMPREHENSIVE TEXT VISIBILITY FIXES FOR LIGHT MODE */
html:not(.theme-dark) {
  /* All headings and titles */
  h1, h2, h3, h4, h5, h6,
  .title, .subtitle, .heading,
  .focus-title, .timer-label,
  .quick-start-info h4,
  .modal-title, .modal-text {
    color: #2C3E50 !important;
  }

  /* All paragraph and body text */
  p, span, div, label,
  .description, .info, .text,
  .activity-info, .session-info,
  .setting-description, .data-action-description,
  .account-action-description, .modal-text,
  .empty-hint, .session-details {
    color: #495057 !important;
  }

  /* Muted/secondary text */
  .muted, .secondary, .light,
  .activity-time, .session-time,
  .metric-subtitle, .status-unit,
  .bar-value, .bar-label {
    color: #6C757D !important;
  }

  /* Navigation text */
  .nav-icon, .nav-text {
    color: #6C757D !important;
  }

  .nav-icon:hover {
    color: #5FA9A4 !important;
  }

  .nav-icon.active {
    color: #FFFFFF !important;
  }

  /* Button text */
  .btn, button, .data-btn, .account-action-btn,
  .data-action-btn, .test-btn {
    color: #2C3E50 !important;
  }

  /* Form elements text */
  input, textarea, select, option {
    color: #2C3E50 !important;
  }

  input::placeholder, textarea::placeholder {
    color: #6C757D !important;
  }

  /* Links */
  a {
    color: #5FA9A4 !important;
  }

  a:hover {
    color: #4D8B87 !important;
  }

  /* Special cases - white text on colored backgrounds */
  .nav-icon.active,
  .btn-primary,
  .btn-signup,
  .control-btn,
  .modal-btn.btn-ok {
    color: #FFFFFF !important;
  }

  /* Timer display */
  .timer-value {
    color: #2C3E50 !important;
  }

  /* Status indicators */
  .session-status {
    color: inherit !important;
  }

  .session-status.completed {
    color: #28A745 !important;
  }

  .session-status.in_progress,
  .session-status.pending {
    color: #FFC107 !important;
  }

  .session-status.paused {
    color: #DC3545 !important;
  }
}
/* ADDITIONAL TEXT CONTRAST FIXES */
html:not(.theme-dark) {
  /* Override any white text that might be hidden */
  *:not(.nav-icon.active):not(.btn-primary):not(.btn-signup):not(.control-btn):not(.modal-btn.btn-ok) {
    color: #2C3E50 !important;
  }

  /* Specific dashboard elements */
  .dashboard .section-title,
  .dashboard .activity-name,
  .dashboard .session-title,
  .dashboard .metric-value,
  .dashboard .status-number {
    color: #2C3E50 !important;
  }

  /* Settings page elements */
  .settings-page .setting-label,
  .settings-page .section-title,
  .settings-page .data-action-label,
  .settings-page .account-action-label {
    color: #2C3E50 !important;
  }

  /* Activities page elements */
  .activities-page .activity-name,
  .activities-page .section-title,
  .activities-page .activity-info {
    color: #2C3E50 !important;
  }

  /* Ensure readability on white cards */
  .activity-card, .session-card, .metric-card, .status-card {
    color: #2C3E50 !important;
  }

  .activity-card *, .session-card *, .metric-card *, .status-card * {
    color: inherit !important;
  }

  /* Fix any remaining invisible text */
  .recent-sessions-section *,
  .activities-section *,
  .focus-section *,
  .status-section * {
    color: #2C3E50 !important;
  }

  /* Exception for elements that should stay white */
  .nav-icon.active *,
  .btn-primary *,
  .btn-signup *,
  .control-btn *,
  .modal-btn.btn-ok * {
    color: #FFFFFF !important;
  }
}
/* ULTIMATE DARK THEME ENFORCEMENT - HIGHEST SPECIFICITY */
html.theme-dark body,
html.theme-dark body * {
  /* Force dark theme on everything when dark mode is active */
}

html.theme-dark .sidebar {
  background: #111827 !important;
  background-color: #111827 !important;
  border-right: 1px solid #1F2937 !important;
}

html.theme-dark .header {
  background: #111827 !important;
  background-color: #111827 !important;
  border-bottom: 1px solid #1F2937 !important;
}

html.theme-dark .nav-icon {
  color: #9CA3AF !important;
}

html.theme-dark .nav-icon:hover {
  background-color: rgba(95, 169, 164, 0.15) !important;
  color: #7BC4BF !important;
}

html.theme-dark .nav-icon.active {
  background-color: #4D8B87 !important;
  color: #FFFFFF !important;
}

html.theme-dark .recent-sessions-section,
html.theme-dark .activities-section,
html.theme-dark .focus-section,
html.theme-dark .content-section,
html.theme-dark .settings-section,
html.theme-dark .metric-card,
html.theme-dark .activity-card,
html.theme-dark .session-card,
html.theme-dark .status-card {
  background: #111827 !important;
  border: 1px solid #1F2937 !important;
}

html.theme-dark .section-title,
html.theme-dark .page-title,
html.theme-dark .nav-text,
html.theme-dark .app-name,
html.theme-dark .activity-name,
html.theme-dark .session-title,
html.theme-dark .setting-label,
html.theme-dark .data-action-label,
html.theme-dark .account-action-label {
  color: #E5E7EB !important;
}

/* COMPREHENSIVE TEXT VISIBILITY FIXES FOR DARK MODE */
html.theme-dark {
  /* All headings and titles */
  h1, h2, h3, h4, h5, h6,
  .title, .subtitle, .heading,
  .focus-title, .timer-label,
  .quick-start-info h4,
  .modal-title, .modal-text {
    color: #E5E7EB !important;
  }

  /* All paragraph and body text */
  p, span, div, label,
  .description, .info, .text,
  .activity-info, .session-info,
  .setting-description, .data-action-description,
  .account-action-description, .modal-text,
  .empty-hint, .session-details {
    color: #D1D5DB !important;
  }

  /* Muted/secondary text */
  .muted, .secondary, .light,
  .activity-time, .session-time,
  .metric-subtitle, .status-unit,
  .bar-value, .bar-label {
    color: #9CA3AF !important;
  }

  /* Button text */
  .btn, button, .data-btn, .account-action-btn,
  .data-action-btn, .test-btn {
    color: #E5E7EB !important;
  }

  /* Form elements text */
  input, textarea, select, option {
    color: #E5E7EB !important;
  }

  input::placeholder, textarea::placeholder {
    color: #9CA3AF !important;
  }

  /* Links */
  a {
    color: #7BC4BF !important;
  }

  a:hover {
    color: #5FA9A4 !important;
  }

  /* Timer display */
  .timer-value {
    color: #E5E7EB !important;
  }

  /* Status indicators */
  .session-status.completed {
    color: #22C55E !important;
  }

  .session-status.in_progress,
  .session-status.pending {
    color: #F59E0B !important;
  }

  .session-status.paused {
    color: #EF4444 !important;
  }

  /* Ensure all card content is visible */
  .activity-card *, .session-card *, .metric-card *, .status-card *,
  .recent-sessions-section *, .activities-section *, .focus-section *, .status-section * {
    color: #E5E7EB !important;
  }

  /* Exception for elements that should stay white */
  .nav-icon.active *,
  .btn-primary *,
  .btn-signup *,
  .control-btn *,
  .modal-btn.btn-ok * {
    color: #FFFFFF !important;
  }
}

/* FIX SPECIFIC COLORED COMPONENTS IN DARK MODE */
html.theme-dark .quick-start-card {
  background: linear-gradient(135deg, #92400E 0%, #B45309 100%) !important;
}

html.theme-dark .quick-start-card .quick-start-info h4 {
  color: #FEF3C7 !important;
}

html.theme-dark .quick-start-card .quick-start-info p {
  color: #FDE68A !important;
}

html.theme-dark .quick-start-card .btn-quick-start {
  background: rgba(255, 255, 255, 0.9) !important;
  color: #92400E !important;
}

html.theme-dark .quick-start-card .btn-quick-start:hover {
  background: rgba(255, 255, 255, 1) !important;
}

/* FIX METRIC CARDS IN DARK MODE */
html.theme-dark .metric-card {
  background: linear-gradient(135deg, #1F2937 0%, #111827 100%) !important;
  border: 1px solid #374151 !important;
}

html.theme-dark .metric-card.streak {
  background: linear-gradient(135deg, #7C2D12 0%, #991B1B 100%) !important;
}

html.theme-dark .metric-card.streak-best {
  background: linear-gradient(135deg, #92400E 0%, #B45309 100%) !important;
}

html.theme-dark .metric-card.primary,
html.theme-dark .metric-card.activities {
  background: linear-gradient(135deg, #0F4C4C 0%, #134E4A 100%) !important;
}

html.theme-dark .metric-card .metric-header h3,
html.theme-dark .metric-card .metric-value,
html.theme-dark .metric-card .metric-subtitle {
  color: #FFFFFF !important;
}

/* FORCE NEW SETTINGS LAYOUT */
.settings-page .settings-container {
  max-width: 800px !important;
  margin: 0 auto !important;
  padding: 40px 24px !important;
  text-align: center !important;
}

.settings-page .settings-tabs {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)) !important;
  gap: 20px !important;
}

.settings-page .tab-card {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
}
/* PUBLIC PAGES EXCLUSION - PRESERVE ORIGINAL STYLING */
.landing-page,
.landing-page *,
.login-page,
.login-page *,
.signup-page,
.signup-page * {
  background: initial !important;
  color: initial !important;
  border-color: initial !important;
}

/* Ensure public pages are NEVER affected by theme overrides */
:root:not(.theme-dark) .landing-page,
:root:not(.theme-dark) .landing-page *,
:root:not(.theme-dark) .login-page,
:root:not(.theme-dark) .login-page *,
:root:not(.theme-dark) .signup-page,
:root:not(.theme-dark) .signup-page * {
  background: initial !important;
  color: initial !important;
}

:root.theme-dark .landing-page,
:root.theme-dark .landing-page *,
:root.theme-dark .login-page,
:root.theme-dark .login-page *,
:root.theme-dark .signup-page,
:root.theme-dark .signup-page * {
  background: initial !important;
  color: initial !important;
}

html:not(.theme-dark) .landing-page,
html:not(.theme-dark) .landing-page *,
html:not(.theme-dark) .login-page,
html:not(.theme-dark) .login-page *,
html:not(.theme-dark) .signup-page,
html:not(.theme-dark) .signup-page * {
  background: initial !important;
  color: initial !important;
}

html.theme-dark .landing-page,
html.theme-dark .landing-page *,
html.theme-dark .login-page,
html.theme-dark .login-page *,
html.theme-dark .signup-page,
html.theme-dark .signup-page * {
  background: initial !important;
  color: initial !important;
}
/* CLEAN SETTINGS STYLING */
.settings-page {
  background: var(--bg);
}

.settings-page .settings-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 40px;
}

.settings-page .settings-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 24px;
}

.settings-page .settings-section {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 20px;
}