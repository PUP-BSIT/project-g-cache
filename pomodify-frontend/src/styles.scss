@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');

/* Add Montserrat and Inter fonts to the entire app */
body {
  font-family: 'Montserrat', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: #1a1a1a;
  line-height: 1.5;
  margin: 0;
  padding: 0;
}

/* Verify Email Dialog Styles */
.verify-email-dialog {
  .mat-mdc-dialog-surface {
    border-radius: 16px !important;
    padding: 0;
    overflow: hidden;
  }
}

/* Material overrides */
.mat-mdc-dialog-surface {
  border-radius: 16px !important;
}

/* Create Session Dialog Styles */
.create-session-dialog-panel {
  .mat-mdc-dialog-surface {
    border-radius: 16px !important;
    padding: 0;
    overflow: hidden;
  }
}

/* Add any other global styles below */

/* Global light/dark CSS variables */
:root {
  --bg: #F8F9FA;
  --card: #FFFFFF;
  --text: #2C3E50;
  --muted: #6C757D;
  --border: #DEE2E6;
}

:root.theme-dark {
  --bg: #0F172A;
  --card: #111827;
  --text: #E5E7EB;
  --muted: #9CA3AF;
  --border: #1F2937;
}

/* CRITICAL: Override dark theme variables specifically for public pages */
:root.theme-dark .landing-page,
:root.theme-dark .login-page,
:root.theme-dark .signup-page {
  /* Force light theme variables to override dark theme */
  --bg: #F8F9FA !important;
  --card: #FFFFFF !important;
  --text: #2C3E50 !important;
  --muted: #6C757D !important;
  --border: #DEE2E6 !important;
}

/* Base surfaces adopt variables ONLY for authenticated pages */
/* Public pages (landing, login, signup) should NEVER be affected by theme system */

/* Optional helpers for inputs/cards/dividers used across pages */
.app-card { background: var(--card); border: 1px solid var(--border); }
.input-surface { background: var(--card); border: 1px solid var(--border); color: var(--text); }
.divider-surface { background: var(--border); }

/* Force light theme as default for AUTHENTICATED pages only */
.activities-page,
.dashboard,
.settings-page,
.sessions-page,
.profile-page,
.report-page {
  background: var(--bg) !important;
  color: var(--text) !important;
}

/* Public pages keep their original styling (no theme system) */
.landing-page,
.login-page,
.signup-page {
  background: initial !important;
  color: initial !important;
}

/* COMPREHENSIVE LIGHT THEME OVERRIDES - AUTHENTICATED PAGES ONLY */
:root:not(.theme-dark) {
  /* Authenticated page backgrounds only */
  .activities-page,
  .dashboard,
  .settings-page,
  .sessions-page,
  .profile-page,
  .report-page {
    background: var(--bg) !important;
    color: var(--text) !important;
  }
  
  /* Public pages exclusion - no theme system */
  .landing-page,
  .login-page,
  .signup-page {
    background: initial !important;
    color: initial !important;
  }

  /* Force light mode for modals */
  .modal-content {
    background: #FFFFFF !important;
    border: 1px solid #DEE2E6 !important;
    color: #2C3E50 !important;
  }
  
  .modal-header {
    border-bottom-color: #DEE2E6 !important;
    
    .modal-title {
      color: #2C3E50 !important;
    }
    
    .modal-subtitle {
      color: #6C757D !important;
    }
    
    .modal-close {
      color: #6C757D !important;
      
      &:hover {
        background: rgba(0, 0, 0, 0.05) !important;
        color: #2C3E50 !important;
      }
    }
  }
  
  .modal-body {
    color: #2C3E50 !important;
  }
  
  .setting-item {
    border-bottom-color: #DEE2E6 !important;
    
    .setting-label {
      color: #2C3E50 !important;
    }
    
    .setting-description {
      color: #6C757D !important;
    }
  }
  
  .group-title {
    color: #2C3E50 !important;
    border-bottom-color: #DEE2E6 !important;
  }
  
  /* Force light mode for sound select */
  .sound-select {
    background: #FFFFFF !important;
    color: #2C3E50 !important;
    border-color: #DEE2E6 !important;
    
    option {
      background: #FFFFFF !important;
      color: #2C3E50 !important;
    }
  }
  
  /* Force light mode for profile modal */
  .profile-modal {
    background: #FFFFFF !important;
    
    .modal-header {
      border-bottom-color: #DEE2E6 !important;
    }
    
    .modal-footer {
      background: #F8F9FA !important;
      border-top-color: #DEE2E6 !important;
    }
    
    .profile-picture-section {
      background: linear-gradient(135deg, rgba(95, 169, 164, 0.1) 0%, rgba(123, 196, 191, 0.05) 100%) !important;
      border-color: #DEE2E6 !important;
    }
    
    .profile-info-header h3 {
      color: #2C3E50 !important;
    }
    
    .profile-info-header .email-text {
      color: #6C757D !important;
    }
    
    .section-label {
      color: #2C3E50 !important;
    }
    
    .form-input {
      background: #FFFFFF !important;
      color: #2C3E50 !important;
      border-color: #DEE2E6 !important;
      
      &:disabled {
        background: #F8F9FA !important;
        color: #6C757D !important;
      }
    }
    
    .helper-text {
      color: #6C757D !important;
    }
    
    .divider {
      background: linear-gradient(90deg, transparent 0%, #DEE2E6 50%, transparent 100%) !important;
    }
  }
  
  /* Force light mode for all modals (privacy/data confirmation modals) */
  .modal-overlay {
    background: rgba(0, 0, 0, 0.3) !important;
  }
  
  /* Angular Material modal overlays - light mode */
  .cdk-overlay-backdrop,
  .mat-overlay-backdrop {
    background: rgba(0, 0, 0, 0.3) !important;
  }
  
  .cdk-overlay-backdrop.cdk-overlay-backdrop-showing,
  .mat-overlay-backdrop.mat-overlay-backdrop-showing {
    background: rgba(0, 0, 0, 0.3) !important;
  }
  
  .modal-content {
    background: #FFFFFF !important;
    border-color: #DEE2E6 !important;
    color: #2C3E50 !important;
    
    .modal-header {
      border-bottom-color: #DEE2E6 !important;
      
      .modal-title {
        color: #2C3E50 !important;
      }
      
      .warning-icon {
        filter: none !important;
      }
    }
    
    .modal-body {
      color: #2C3E50 !important;
      
      .modal-text {
        color: #2C3E50 !important;
      }
      
      .modal-warning {
        color: #E74C3C !important;
      }
      
      .delete-list li {
        color: #2C3E50 !important;
        
        &::before {
          color: #2C3E50 !important;
        }
      }
      
      .success-text {
        color: #22C55E !important;
      }
    }
    
    .modal-actions {
      .modal-btn {
        &.btn-ok {
          background-color: #5FA9A4 !important;
          color: white !important;
          
          &:hover {
            background-color: #4D8B87 !important;
          }
        }
        
        &.btn-cancel {
          background-color: #F8F9FA !important;
          color: #2C3E50 !important;
          border-color: #DEE2E6 !important;
          
          &:hover {
            background-color: #E9ECEF !important;
          }
        }
      }
    }
  }

  /* Sidebar styling */
  .sidebar {
    background-color: var(--card) !important;
    border-right-color: var(--border) !important;
  }

  /* Header styling */
  .header {
    background-color: var(--card) !important;
    border-bottom-color: var(--border) !important;
  }

  /* All card components (excluding landing page) */
  .settings-section,
  .activity-card,
  .focus-card,
  .status-card,
  .session-card,
  .content-section,
  .stat-card {
    background: var(--card) !important;
    border-color: var(--border) !important;
    color: var(--text) !important;
  }
  
  /* Preserve metric card colors in light mode - don't override them */
  
  /* Exclude landing page components */
  .landing-page .feature-box,
  .landing-page .hero-section,
  .landing-page .feature-grid {
    background: initial !important;
    color: initial !important;
    border-color: initial !important;
  }

  /* Navigation elements */
  .nav-icon {
    color: var(--muted) !important;
  }

  /* Text elements */
  .section-title,
  .page-title,
  .activity-name,
  .session-title,
  .stat-label {
    color: var(--text) !important;
  }

  /* Buttons */
  .hamburger-btn,
  .theme-btn,
  .profile-btn,
  .data-btn,
  .data-action-btn,
  .account-action-btn {
    background: var(--card) !important;
    color: var(--text) !important;
    border-color: var(--border) !important;
  }

  /* Form elements */
  input,
  textarea,
  select,
  .sound-select {
    background: var(--card) !important;
    color: var(--text) !important;
    border-color: var(--border) !important;
  }

  /* Override any hardcoded light backgrounds */
  .activities-list,
  .recent-sessions-list,
  .settings-grid {
    background: transparent !important;
  }
  
  /* Metric cards now have their colors defined in the theme-specific sections above */
}

/* COMPREHENSIVE DARK THEME OVERRIDES - AUTHENTICATED PAGES ONLY */
:root.theme-dark {
  /* Authenticated page backgrounds only */
  .activities-page,
  .dashboard,
  .settings-page,
  .sessions-page,
  .profile-page,
  .report-page {
    background: var(--bg) !important;
    color: var(--text) !important;
  }
  
  /* Public pages never get dark theme */
  .landing-page,
  .login-page,
  .signup-page {
    background: initial !important;
    color: initial !important;
  }

  /* Sidebar styling */
  .sidebar {
    background-color: var(--card) !important;
    border-right-color: var(--border) !important;
  }

  /* Header styling */
  .header {
    background-color: var(--card) !important;
    border-bottom-color: var(--border) !important;
  }

  /* All card components */
  .settings-section,
  .activity-card,
  .focus-card,
  .status-card,
  .session-card,
  .content-section,
  .stat-card,
  .recent-sessions-section,
  .activities-section {
    background: var(--card) !important;
    border-color: var(--border) !important;
    color: var(--text) !important;
  }
  
  /* Preserve metric card colors in dark mode - they have their own styling */

  /* Navigation elements */
  .nav-icon {
    color: var(--muted) !important;
  }

  .nav-icon:hover {
    background-color: rgba(95,169,164,0.15) !important;
    color: #7BC4BF !important;
  }

  .nav-icon.active {
    background-color: #4D8B87 !important;
    color: #FFFFFF !important;
  }

  /* Text elements */
  .section-title,
  .page-title,
  .activity-name,
  .session-title,
  .stat-label,
  .nav-text,
  .app-name {
    color: var(--text) !important;
  }

  /* Buttons */
  .hamburger-btn,
  .theme-btn,
  .profile-btn,
  .data-btn,
  .data-action-btn,
  .account-action-btn {
    background: var(--card) !important;
    color: var(--text) !important;
    border-color: var(--border) !important;
  }

  /* Form elements */
  input,
  textarea,
  select,
  .sound-select {
    background: var(--card) !important;
    color: var(--text) !important;
    border-color: var(--border) !important;
  }

  /* Containers */
  .settings-container,
  .content-grid,
  .help-container {
    background: transparent !important;
  }

  /* Dividers */
  .divider,
  .divider-surface {
    background: var(--border) !important;
  }
}

/* ADDITIONAL LIGHT THEME FIXES FOR SPECIFIC COMPONENTS */
:root:not(.theme-dark) {
  /* FORCE LIGHT SIDEBAR - Override all dark styles */
  .sidebar {
    background-color: var(--card) !important;
    background: var(--card) !important;
    border-right: 1px solid var(--border) !important;
    border-right-color: var(--border) !important;
  }

  /* FORCE LIGHT NAVIGATION */
  .nav-icon {
    color: var(--muted) !important;
  }

  .nav-icon:hover {
    color: #5FA9A4 !important;
    background-color: rgba(95, 169, 164, 0.1) !important;
  }

  .nav-icon.active {
    background-color: #5FA9A4 !important;
    color: white !important;
  }

  /* FORCE LIGHT SECTIONS */
  .activities-section,
  .focus-section,
  .status-section,
  .content-section {
    background: var(--card) !important;
    border: 1px solid var(--border) !important;
    color: var(--text) !important;
  }
  
  /* Recent sessions section stays borderless like quick-start */

  /* Fix hardcoded button colors */
  .btn-create-activity,
  .btn-edit-activity,
  .btn-delete-activity {
    background-color: var(--card) !important;
    color: var(--text) !important;
    border: 1px solid var(--border) !important;
  }

  /* Fix toggle switches */
  .toggle-label {
    background-color: var(--border) !important;
  }

  .toggle-input:checked + .toggle-label {
    background-color: #5FA9A4 !important;
  }

  /* Fix data buttons */
  .data-btn {
    background-color: var(--card) !important;
    color: var(--text) !important;
    border: 1px solid var(--border) !important;
  }

  /* Fix modal buttons */
  .modal-btn.btn-ok {
    background-color: #5FA9A4 !important;
    color: white !important;
  }

  .modal-btn.btn-cancel {
    background-color: var(--card) !important;
    color: var(--text) !important;
    border: 1px solid var(--border) !important;
  }

  /* Fix theme toggle */
  .theme-toggle-track {
    background: linear-gradient(135deg, #FFD700, #FFA500) !important;
  }

  /* Override any remaining hardcoded backgrounds */
  .activities-list .activity-card,
  .recent-sessions-list .session-card,
  .settings-grid .settings-section {
    background: var(--card) !important;
    border: 1px solid var(--border) !important;
  }
  
  /* Metric cards should keep their original colored styling */

  /* Fix any gradient backgrounds in light mode */
  .activities-page,
  .dashboard {
    background: var(--bg) !important;
  }

  /* FORCE ALL TEXT TO BE DARK IN LIGHT MODE */
  .section-title,
  .page-title,
  .activity-name,
  .session-title,
  .nav-text,
  .app-name {
    color: var(--text) !important;
  }

  /* OVERRIDE ANY FACEBOOK-STYLE DARK GRADIENTS */
  .sidebar,
  .header,
  .settings-section,
  .quick-start-card {
    background: var(--card) !important;
    border: 1px solid var(--border) !important;
  }
  
  /* Preserve metric card gradients in light mode */
}

/* ULTIMATE LIGHT THEME ENFORCEMENT - HIGHEST SPECIFICITY */
/* Public pages are completely excluded from theme system */

html:not(.theme-dark) .sidebar {
  background: #FFFFFF !important;
  background-color: #FFFFFF !important;
  border-right: 1px solid #DEE2E6 !important;
}

html:not(.theme-dark) .nav-icon {
  color: #6C757D !important;
}

html:not(.theme-dark) .nav-icon:hover {
  background-color: rgba(95, 169, 164, 0.1) !important;
  color: #5FA9A4 !important;
}

html:not(.theme-dark) .nav-icon.active {
  background-color: #5FA9A4 !important;
  color: #FFFFFF !important;
}

html:not(.theme-dark) .recent-sessions-section {
  background: transparent !important;
  border: none !important;
}

html:not(.theme-dark) .activities-section,
html:not(.theme-dark) .focus-section,
html:not(.theme-dark) .content-section {
  background: #FFFFFF !important;
  border: 1px solid #DEE2E6 !important;
}

/* PRESERVE METRIC CARD COLORS IN LIGHT MODE - SAME AS DARK MODE */
html:not(.theme-dark) .metric-card {
  /* Default teal gradient for base metric cards */
  background: linear-gradient(135deg, #5FA9A4 0%, #7BC4BF 100%) !important;
  border: none !important;
  color: #FFFFFF !important;
}

html:not(.theme-dark) .metric-card.streak {
  /* Red gradient for streak cards */
  background: linear-gradient(135deg, #FF6B6B 0%, #FF8E8E 100%) !important;
}

html:not(.theme-dark) .metric-card.streak-best {
  /* Orange gradient for best streak cards */
  background: linear-gradient(135deg, #FFA726 0%, #FFB74D 100%) !important;
}

html:not(.theme-dark) .metric-card.primary {
  /* Teal gradient for primary cards */
  background: linear-gradient(135deg, #5FA9A4 0%, #7BC4BF 100%) !important;
}

html:not(.theme-dark) .metric-card.secondary {
  /* Light teal gradient for secondary cards */
  background: linear-gradient(135deg, #7BC4BF 0%, #9DD9D5 100%) !important;
}

html:not(.theme-dark) .metric-card.activities {
  /* Teal gradient for activities cards */
  background: linear-gradient(135deg, #5FA9A4 0%, #7BC4BF 100%) !important;
}

/* Ensure all metric card text stays white on colored backgrounds in light mode */
html:not(.theme-dark) .metric-card,
html:not(.theme-dark) .metric-card *,
html:not(.theme-dark) .metric-card .metric-header h3,
html:not(.theme-dark) .metric-card .metric-value,
html:not(.theme-dark) .metric-card .metric-subtitle {
  color: #FFFFFF !important;
}

/* Add consistent shadows and hover effects for metric cards in light mode */
html:not(.theme-dark) .metric-card {
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08) !important;
  transition: all 0.3s ease !important;
}

html:not(.theme-dark) .metric-card:hover {
  transform: translateY(-4px) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12) !important;
}

html:not(.theme-dark) .section-title,
html:not(.theme-dark) .page-title,
html:not(.theme-dark) .nav-text,
html:not(.theme-dark) .app-name,
html:not(.theme-dark) .activity-name,
html:not(.theme-dark) .activity-time,
html:not(.theme-dark) .session-title,
html:not(.theme-dark) .session-time,
html:not(.theme-dark) .session-activity,
html:not(.theme-dark) .metric-header h3,
html:not(.theme-dark) .metric-value,
html:not(.theme-dark) .metric-subtitle,
html:not(.theme-dark) .status-label,
html:not(.theme-dark) .status-number,
html:not(.theme-dark) .empty-recent p,
html:not(.theme-dark) .setting-label,
html:not(.theme-dark) .data-action-label,
html:not(.theme-dark) .account-action-label {
  color: #2C3E50 !important;
}

/* Disable any dark mode styles when not in dark theme */
html:not(.theme-dark) *[class*="dark"],
html:not(.theme-dark) *[style*="background: linear-gradient"][style*="#"] {
  background: var(--card) !important;
}
/* COMPREHENSIVE TEXT VISIBILITY FIXES FOR LIGHT MODE - AUTHENTICATED PAGES ONLY */
html:not(.theme-dark) {
  /* Exclude public pages from ALL theme overrides */
  .landing-page,
  .landing-page *,
  .login-page,
  .login-page *,
  .signup-page,
  .signup-page * {
    background: initial !important;
    color: initial !important;
    border-color: initial !important;
  }

  /* All headings and titles - AUTHENTICATED PAGES ONLY */
  .activities-page h1, .activities-page h2, .activities-page h3, .activities-page h4, .activities-page h5, .activities-page h6,
  .dashboard h1, .dashboard h2, .dashboard h3, .dashboard h4, .dashboard h5, .dashboard h6,
  .settings-page h1, .settings-page h2, .settings-page h3, .settings-page h4, .settings-page h5, .settings-page h6,
  .sessions-page h1, .sessions-page h2, .sessions-page h3, .sessions-page h4, .sessions-page h5, .sessions-page h6,
  .profile-page h1, .profile-page h2, .profile-page h3, .profile-page h4, .profile-page h5, .profile-page h6,
  .report-page h1, .report-page h2, .report-page h3, .report-page h4, .report-page h5, .report-page h6,
  .activities-page .title, .activities-page .subtitle, .activities-page .heading,
  .dashboard .title, .dashboard .subtitle, .dashboard .heading,
  .settings-page .title, .settings-page .subtitle, .settings-page .heading,
  .sessions-page .title, .sessions-page .subtitle, .sessions-page .heading,
  .profile-page .title, .profile-page .subtitle, .profile-page .heading,
  .report-page .title, .report-page .subtitle, .report-page .heading,
  .focus-title, .timer-label,
  .quick-start-info h4,
  .modal-title, .modal-text {
    color: #2C3E50 !important;
  }

  /* All paragraph and body text */
  p, span, div, label,
  .description, .info, .text,
  .activity-info, .session-info,
  .setting-description, .data-action-description,
  .account-action-description, .modal-text,
  .empty-hint, .session-details {
    color: #495057 !important;
  }

  /* Muted/secondary text */
  .muted, .secondary, .light,
  .activity-time, .session-time,
  .metric-subtitle, .status-unit,
  .bar-value, .bar-label {
    color: #6C757D !important;
  }

  /* Navigation text */
  .nav-icon, .nav-text {
    color: #6C757D !important;
  }

  .nav-icon:hover {
    color: #5FA9A4 !important;
  }

  .nav-icon.active {
    color: #FFFFFF !important;
  }

  /* Button text */
  .btn, button, .data-btn, .account-action-btn,
  .data-action-btn, .test-btn {
    color: #2C3E50 !important;
  }

  /* Form elements text */
  input, textarea, select, option {
    color: #2C3E50 !important;
  }

  input::placeholder, textarea::placeholder {
    color: #6C757D !important;
  }

  /* Links */
  a {
    color: #5FA9A4 !important;
  }

  a:hover {
    color: #4D8B87 !important;
  }

  /* Special cases - white text on colored backgrounds */
  .nav-icon.active,
  .btn-primary,
  .btn-signup,
  .control-btn,
  .modal-btn.btn-ok {
    color: #FFFFFF !important;
  }

  /* Timer display */
  .timer-value {
    color: #2C3E50 !important;
  }

  /* Status indicators */
  .session-status {
    color: inherit !important;
  }

  .session-status.completed {
    color: #28A745 !important;
  }

  .session-status.in_progress,
  .session-status.pending {
    color: #FFC107 !important;
  }

  .session-status.paused {
    color: #DC3545 !important;
  }
}
/* ADDITIONAL TEXT CONTRAST FIXES */
html:not(.theme-dark) {
  /* Override any white text that might be hidden */
  *:not(.nav-icon.active):not(.btn-primary):not(.btn-signup):not(.control-btn):not(.modal-btn.btn-ok) {
    color: #2C3E50 !important;
  }

  /* Specific dashboard elements */
  .dashboard .section-title,
  .dashboard .activity-name,
  .dashboard .session-title,
  .dashboard .status-number {
    color: #2C3E50 !important;
  }
  
  /* Metric values should stay white on colored backgrounds */

  /* Settings page elements */
  .settings-page .setting-label,
  .settings-page .section-title,
  .settings-page .data-action-label,
  .settings-page .account-action-label {
    color: #2C3E50 !important;
  }

  /* Activities page elements */
  .activities-page .activity-name,
  .activities-page .section-title,
  .activities-page .activity-info {
    color: #2C3E50 !important;
  }

  /* Ensure readability on white cards */
  .activity-card, .session-card, .status-card {
    color: #2C3E50 !important;
  }

  .activity-card *, .session-card *, .status-card * {
    color: inherit !important;
  }
  
  /* Metric cards keep their own text colors (white on colored backgrounds) */

  /* Fix any remaining invisible text */
  .recent-sessions-section *,
  .activities-section *,
  .focus-section *,
  .status-section * {
    color: #2C3E50 !important;
  }
  
  /* Exception: metric cards should keep their white text on colored backgrounds */
  .metric-card * {
    color: #FFFFFF !important;
  }

  /* Exception for elements that should stay white */
  .nav-icon.active *,
  .btn-primary *,
  .btn-signup *,
  .control-btn *,
  .modal-btn.btn-ok * {
    color: #FFFFFF !important;
  }
}
/* ULTIMATE DARK THEME ENFORCEMENT - HIGHEST SPECIFICITY */
/* Public pages are completely excluded from dark theme system */

html.theme-dark .sidebar {
  background: #111827 !important;
  background-color: #111827 !important;
  border-right: 1px solid #1F2937 !important;
}

html.theme-dark .header {
  background: #111827 !important;
  background-color: #111827 !important;
  border-bottom: 1px solid #1F2937 !important;
}

html.theme-dark .nav-icon {
  color: #9CA3AF !important;
}

html.theme-dark .nav-icon:hover {
  background-color: rgba(95, 169, 164, 0.15) !important;
  color: #7BC4BF !important;
}

html.theme-dark .nav-icon.active {
  background-color: #4D8B87 !important;
  color: #FFFFFF !important;
}

html.theme-dark .recent-sessions-section {
  background: transparent !important;
  border: none !important;
}

html.theme-dark .activities-section,
html.theme-dark .focus-section,
html.theme-dark .content-section,
html.theme-dark .settings-section,
html.theme-dark .activity-card,
html.theme-dark .session-card,
html.theme-dark .status-card {
  background: #111827 !important;
  border: 1px solid #1F2937 !important;
}

/* Metric cards have their own colored styling in dark mode */

html.theme-dark .section-title,
html.theme-dark .page-title,
html.theme-dark .nav-text,
html.theme-dark .app-name,
html.theme-dark .activity-name,
html.theme-dark .session-title,
html.theme-dark .setting-label,
html.theme-dark .data-action-label,
html.theme-dark .account-action-label {
  color: #E5E7EB !important;
}

/* COMPREHENSIVE TEXT VISIBILITY FIXES FOR DARK MODE - AUTHENTICATED PAGES ONLY */
html.theme-dark {
  /* Exclude public pages from ALL dark theme overrides */
  .landing-page,
  .landing-page *,
  .login-page,
  .login-page *,
  .signup-page,
  .signup-page * {
    background: initial !important;
    color: initial !important;
    border-color: initial !important;
  }

  /* All headings and titles - AUTHENTICATED PAGES ONLY */
  .activities-page h1, .activities-page h2, .activities-page h3, .activities-page h4, .activities-page h5, .activities-page h6,
  .dashboard h1, .dashboard h2, .dashboard h3, .dashboard h4, .dashboard h5, .dashboard h6,
  .settings-page h1, .settings-page h2, .settings-page h3, .settings-page h4, .settings-page h5, .settings-page h6,
  .sessions-page h1, .sessions-page h2, .sessions-page h3, .sessions-page h4, .sessions-page h5, .sessions-page h6,
  .profile-page h1, .profile-page h2, .profile-page h3, .profile-page h4, .profile-page h5, .profile-page h6,
  .report-page h1, .report-page h2, .report-page h3, .report-page h4, .report-page h5, .report-page h6,
  .activities-page .title, .activities-page .subtitle, .activities-page .heading,
  .dashboard .title, .dashboard .subtitle, .dashboard .heading,
  .settings-page .title, .settings-page .subtitle, .settings-page .heading,
  .sessions-page .title, .sessions-page .subtitle, .sessions-page .heading,
  .profile-page .title, .profile-page .subtitle, .profile-page .heading,
  .report-page .title, .report-page .subtitle, .report-page .heading,
  .focus-title, .timer-label,
  .quick-start-info h4,
  .modal-title, .modal-text {
    color: #E5E7EB !important;
  }

  /* All paragraph and body text */
  p, span, div, label,
  .description, .info, .text,
  .activity-info, .session-info,
  .setting-description, .data-action-description,
  .account-action-description, .modal-text,
  .empty-hint, .session-details {
    color: #D1D5DB !important;
  }

  /* Muted/secondary text */
  .muted, .secondary, .light,
  .activity-time, .session-time,
  .metric-subtitle, .status-unit,
  .bar-value, .bar-label {
    color: #9CA3AF !important;
  }

  /* Button text */
  .btn, button, .data-btn, .account-action-btn,
  .data-action-btn, .test-btn {
    color: #E5E7EB !important;
  }

  /* Form elements text */
  input, textarea, select, option {
    color: #E5E7EB !important;
  }

  input::placeholder, textarea::placeholder {
    color: #9CA3AF !important;
  }

  /* Links */
  a {
    color: #7BC4BF !important;
  }

  a:hover {
    color: #5FA9A4 !important;
  }

  /* Timer display */
  .timer-value {
    color: #E5E7EB !important;
  }

  /* Status indicators */
  .session-status.completed {
    color: #22C55E !important;
  }

  .session-status.in_progress,
  .session-status.pending {
    color: #F59E0B !important;
  }

  .session-status.paused {
    color: #EF4444 !important;
  }

  /* Ensure all card content is visible */
  .activity-card *, .session-card *, .status-card *,
  .recent-sessions-section *, .activities-section *, .focus-section *, .status-section * {
    color: #E5E7EB !important;
  }
  
  /* Metric cards keep their own white text styling */

  /* Exception for elements that should stay white */
  .nav-icon.active *,
  .btn-primary *,
  .btn-signup *,
  .control-btn *,
  .modal-btn.btn-ok * {
    color: #FFFFFF !important;
  }
}

/* FIX SPECIFIC COLORED COMPONENTS IN DARK MODE */
html.theme-dark .quick-start-card {
  background: linear-gradient(135deg, #92400E 0%, #B45309 100%) !important;
}

html.theme-dark .quick-start-card .quick-start-info h4 {
  color: #FEF3C7 !important;
}

html.theme-dark .quick-start-card .quick-start-info p {
  color: #FDE68A !important;
}

html.theme-dark .quick-start-card .btn-quick-start {
  background: rgba(255, 255, 255, 0.9) !important;
  color: #92400E !important;
}

html.theme-dark .quick-start-card .btn-quick-start:hover {
  background: rgba(255, 255, 255, 1) !important;
}

/* METRIC CARDS IN DARK MODE - DARKER VARIANTS OF SAME COLORS */
html.theme-dark .metric-card {
  /* Default darker teal gradient */
  background: linear-gradient(135deg, #0F4C4C 0%, #134E4A 100%) !important;
  border: none !important;
  color: #FFFFFF !important;
}

html.theme-dark .metric-card.streak {
  /* Darker red gradient for streak cards */
  background: linear-gradient(135deg, #7C2D12 0%, #991B1B 100%) !important;
}

html.theme-dark .metric-card.streak-best {
  /* Darker orange gradient for best streak cards */
  background: linear-gradient(135deg, #92400E 0%, #B45309 100%) !important;
}

html.theme-dark .metric-card.primary {
  /* Darker teal gradient for primary cards */
  background: linear-gradient(135deg, #0F4C4C 0%, #134E4A 100%) !important;
}

html.theme-dark .metric-card.secondary {
  /* Darker light teal gradient for secondary cards */
  background: linear-gradient(135deg, #134E4A 0%, #155E56 100%) !important;
}

html.theme-dark .metric-card.activities {
  /* Darker teal gradient for activities cards */
  background: linear-gradient(135deg, #0F4C4C 0%, #134E4A 100%) !important;
}

/* Ensure all metric card text stays white on colored backgrounds in dark mode */
html.theme-dark .metric-card,
html.theme-dark .metric-card *,
html.theme-dark .metric-card .metric-header h3,
html.theme-dark .metric-card .metric-value,
html.theme-dark .metric-card .metric-subtitle {
  color: #FFFFFF !important;
}

/* Add consistent shadows and hover effects for metric cards in dark mode */
html.theme-dark .metric-card {
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.4) !important;
  transition: all 0.3s ease !important;
}

html.theme-dark .metric-card:hover {
  transform: translateY(-4px) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6) !important;
}

/* FORCE NEW SETTINGS LAYOUT */
.settings-page .settings-container {
  max-width: 800px !important;
  margin: 0 auto !important;
  padding: 40px 24px !important;
  text-align: center !important;
}

.settings-page .settings-tabs {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)) !important;
  gap: 20px !important;
}

.settings-page .tab-card {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
}
/* ========================================================================
   PUBLIC PAGES COMPLETE ISOLATION FROM THEME SYSTEM
   Landing, Login, and Signup pages MUST remain static regardless of theme
   ======================================================================== */

/* NUCLEAR OPTION: Maximum specificity override for public pages */
/* Force white theme with absolute priority */

html.theme-dark body .landing-page,
html.theme-dark body .login-page,
html.theme-dark body .signup-page,
html.theme-dark body .login-container,
html.theme-dark body .signup-container,
html.theme-dark body .landing-container,
html.theme-dark .landing-page,
html.theme-dark .login-page,
html.theme-dark .signup-page,
html.theme-dark .login-container,
html.theme-dark .signup-container,
html.theme-dark .landing-container {
  /* FORCE WHITE THEME - MAXIMUM PRIORITY */
  --bg: #F8F9FA !important;
  --card: #FFFFFF !important;
  --text: #2C3E50 !important;
  --muted: #6C757D !important;
  --border: #DEE2E6 !important;
  
  /* FORCE WHITE BACKGROUNDS */
  background: #FFFFFF !important;
  background-color: #FFFFFF !important;
  color: #2C3E50 !important;
}

/* FORCE ORIGINAL CONTAINER GRADIENTS */
html.theme-dark body .login-container,
html.theme-dark body .signup-container,
html.theme-dark .login-container,
html.theme-dark .signup-container {
  background: radial-gradient(circle at top, rgba(244, 241, 255, 0.8), rgba(237, 248, 248, 0.4)) !important;
  color: #2C3E50 !important;
}

/* MAXIMUM SPECIFICITY: Force ALL elements to light theme */
html.theme-dark body .landing-page *,
html.theme-dark body .login-page *,
html.theme-dark body .signup-page *,
html.theme-dark .landing-page *,
html.theme-dark .login-page *,
html.theme-dark .signup-page * {
  /* FORCE LIGHT THEME ON EVERYTHING */
  background-color: transparent !important;
  color: #2C3E50 !important;
  border-color: #DEE2E6 !important;
}

/* MAXIMUM PRIORITY FORM ELEMENT OVERRIDES */
html.theme-dark body .login-page input,
html.theme-dark body .login-page textarea,
html.theme-dark body .login-page select,
html.theme-dark body .login-page button,
html.theme-dark body .signup-page input,
html.theme-dark body .signup-page textarea,
html.theme-dark body .signup-page select,
html.theme-dark body .signup-page button,
html.theme-dark .login-page input,
html.theme-dark .login-page textarea,
html.theme-dark .login-page select,
html.theme-dark .login-page button,
html.theme-dark .signup-page input,
html.theme-dark .signup-page textarea,
html.theme-dark .signup-page select,
html.theme-dark .signup-page button {
  /* FORCE ORIGINAL FORM STYLING */
  background: rgba(255, 255, 255, 0.9) !important;
  background-color: rgba(255, 255, 255, 0.9) !important;
  color: #2c5f63 !important;
  border-color: rgba(77, 161, 169, 0.35) !important;
}

/* MAXIMUM PRIORITY FOCUS STATES */
html.theme-dark body .login-page input:focus,
html.theme-dark body .signup-page input:focus,
html.theme-dark .login-page input:focus,
html.theme-dark .signup-page input:focus {
  background: #FFFFFF !important;
  background-color: #FFFFFF !important;
  border-color: #4da1a9 !important;
  color: #2c5f63 !important;
}

/* MAXIMUM PRIORITY BUTTON OVERRIDES */
html.theme-dark body .login-page .btn-login,
html.theme-dark body .signup-page .btn-signup,
html.theme-dark .login-page .btn-login,
html.theme-dark .signup-page .btn-signup {
  background: #4da1a9 !important;
  background-color: #4da1a9 !important;
  color: #ffffff !important;
  border-color: #4da1a9 !important;
}

html.theme-dark body .login-page .btn-google,
html.theme-dark .login-page .btn-google {
  background: transparent !important;
  background-color: transparent !important;
  color: #2c5f63 !important;
  border-color: rgba(91, 154, 158, 0.4) !important;
}

/* MAXIMUM PRIORITY PLACEHOLDER TEXT */
html.theme-dark body .login-page input::placeholder,
html.theme-dark body .signup-page input::placeholder,
html.theme-dark .login-page input::placeholder,
html.theme-dark .signup-page input::placeholder {
  color: rgba(44, 95, 99, 0.7) !important;
}

/* MAXIMUM PRIORITY COMPONENT OVERRIDES */
html.theme-dark body .login-panel,
html.theme-dark body .signup-panel,
html.theme-dark body .login-card,
html.theme-dark body .signup-card,
html.theme-dark .login-panel,
html.theme-dark .signup-panel,
html.theme-dark .login-card,
html.theme-dark .signup-card {
  background: #FFFFFF !important;
  background-color: #FFFFFF !important;
  color: #2C3E50 !important;
  border-color: #DEE2E6 !important;
}
/* CLEAN SETTINGS STYLING */
.settings-page {
  background: var(--bg);
}

.settings-page .settings-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 40px;
}

.settings-page .settings-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 24px;
}

.settings-page .settings-section {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 20px;
}

/* MAXIMUM PRIORITY ILLUSTRATION OVERRIDES */
html.theme-dark body .login-illustration,
html.theme-dark body .signup-illustration,
html.theme-dark .login-illustration,
html.theme-dark .signup-illustration {
  background: linear-gradient(180deg, #f5fbff 0%, #d9ebf6 55%, #c2dbec 100%) !important;
  color: #2C3E50 !important;
}

/* ULTIMATE SAFETY NET: Force text colors on ALL text elements */
html.theme-dark body .login-page h1,
html.theme-dark body .login-page h2,
html.theme-dark body .login-page h3,
html.theme-dark body .login-page h4,
html.theme-dark body .login-page h5,
html.theme-dark body .login-page h6,
html.theme-dark body .login-page p,
html.theme-dark body .login-page span,
html.theme-dark body .login-page div,
html.theme-dark body .login-page label,
html.theme-dark body .login-page a,
html.theme-dark body .signup-page h1,
html.theme-dark body .signup-page h2,
html.theme-dark body .signup-page h3,
html.theme-dark body .signup-page h4,
html.theme-dark body .signup-page h5,
html.theme-dark body .signup-page h6,
html.theme-dark body .signup-page p,
html.theme-dark body .signup-page span,
html.theme-dark body .signup-page div,
html.theme-dark body .signup-page label,
html.theme-dark body .signup-page a,
html.theme-dark .login-page h1,
html.theme-dark .login-page h2,
html.theme-dark .login-page h3,
html.theme-dark .login-page h4,
html.theme-dark .login-page h5,
html.theme-dark .login-page h6,
html.theme-dark .login-page p,
html.theme-dark .login-page span,
html.theme-dark .login-page div,
html.theme-dark .login-page label,
html.theme-dark .login-page a,
html.theme-dark .signup-page h1,
html.theme-dark .signup-page h2,
html.theme-dark .signup-page h3,
html.theme-dark .signup-page h4,
html.theme-dark .signup-page h5,
html.theme-dark .signup-page h6,
html.theme-dark .signup-page p,
html.theme-dark .signup-page span,
html.theme-dark .signup-page div,
html.theme-dark .signup-page label,
html.theme-dark .signup-page a {
  color: #2C3E50 !important;
}

/* PRESERVE METRIC CARD DECORATIVE ELEMENTS IN BOTH MODES */
html:not(.theme-dark) .metric-card::before,
html.theme-dark .metric-card::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  right: 0 !important;
  width: 100px !important;
  height: 100px !important;
  border-radius: 50% !important;
  transform: translate(30%, -30%) !important;
  pointer-events: none !important;
}

/* Light mode decorative elements */
html:not(.theme-dark) .metric-card::before {
  background: rgba(255, 255, 255, 0.05) !important;
}

html:not(.theme-dark) .metric-card.streak::before {
  background: rgba(255, 255, 255, 0.1) !important;
}

html:not(.theme-dark) .metric-card.streak-best::before {
  background: rgba(255, 255, 255, 0.15) !important;
}

html:not(.theme-dark) .metric-card.activities::before {
  background: rgba(255, 255, 255, 0.08) !important;
}

/* Dark mode decorative elements */
html.theme-dark .metric-card::before {
  background: rgba(255, 255, 255, 0.03) !important;
}

html.theme-dark .metric-card.streak::before {
  background: rgba(255, 255, 255, 0.08) !important;
}

html.theme-dark .metric-card.streak-best::before {
  background: rgba(255, 255, 255, 0.12) !important;
}

html.theme-dark .metric-card.activities::before {
  background: rgba(255, 255, 255, 0.06) !important;
}

/* DARK MODE MODAL OVERLAYS */
html.theme-dark .modal-overlay {
  background: rgba(0, 0, 0, 0.6) !important;
}

html.theme-dark .cdk-overlay-backdrop,
html.theme-dark .mat-overlay-backdrop {
  background: rgba(0, 0, 0, 0.6) !important;
}

html.theme-dark .cdk-overlay-backdrop.cdk-overlay-backdrop-showing,
html.theme-dark .mat-overlay-backdrop.mat-overlay-backdrop-showing {
  background: rgba(0, 0, 0, 0.6) !important;
}


/* ========================================================================
   PROFILE DIALOG MOBILE RESPONSIVENESS
   Ensures the profile modal doesn't overflow on mobile devices
   ======================================================================== */

/* Mobile only: Proper centering and sizing */
@media (max-width: 576px) {
  .mat-mdc-dialog-panel.profile-dialog {
    max-width: calc(100vw - 24px) !important;
  }
}

/* Profile Modal - Force smaller input and button sizes */
.profile-modal {
  max-width: 100% !important;
  box-sizing: border-box !important;
}

.profile-modal .modal-content {
  box-sizing: border-box !important;
}

.profile-modal .form-section {
  max-width: 100% !important;
  box-sizing: border-box !important;
}

.profile-modal .form-input {
  padding: 8px 10px !important;
  font-size: 13px !important;
  border-radius: 6px !important;
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

.profile-modal .inline-form,
.profile-modal .email-display,
.profile-modal .password-display {
  max-width: 100% !important;
  box-sizing: border-box !important;
}

.profile-modal .btn-save-inline,
.profile-modal .btn-change-password,
.profile-modal .btn-save-modal,
.profile-modal .btn-cancel-modal {
  padding: 8px 12px !important;
  font-size: 12px !important;
  border-radius: 6px !important;
  box-sizing: border-box !important;
}

.profile-modal .modal-footer {
  max-width: 100% !important;
  box-sizing: border-box !important;
}


/* Logout overlay - full screen centered spinner */
.logout-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  backdrop-filter: blur(4px);
}

.logout-spinner-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  padding: 32px 48px;
  background: var(--card, #ffffff);
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);

  p {
    margin: 0;
    font-size: 16px;
    font-weight: 500;
    color: var(--text, #2C3E50);
  }
}

.logout-spinner-large {
  width: 48px;
  height: 48px;
  border: 4px solid rgba(95, 169, 164, 0.2);
  border-top-color: #5FA9A4;
  border-radius: 50%;
  animation: logout-spin 0.8s linear infinite;
}

@keyframes logout-spin {
  to {
    transform: rotate(360deg);
  }
}

.nav-icon:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}
